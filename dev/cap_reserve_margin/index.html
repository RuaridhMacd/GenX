<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Capacity Reserve Margin · GenX</title><link rel="canonical" href="https://genxproject.github.io/GenX/cap_reserve_margin/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GenX</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome Page</a></li><li><span class="tocitem">Model Concept and Overview</span><ul><li><a class="tocitem" href="../model_introduction/">Model Introduction</a></li><li><a class="tocitem" href="../model_notation/">Notation</a></li><li><a class="tocitem" href="../objective_function/">Objective Function</a></li><li><a class="tocitem" href="../power_balance/">Power Balance</a></li></ul></li><li><span class="tocitem">Model Function Reference</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Core</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../discharge/">Discharge</a></li><li><a class="tocitem" href="../investment_discharge/">Investment Discharge</a></li><li><a class="tocitem" href="../non_served_energy/">Non Served Energy</a></li><li><a class="tocitem" href="../reserves/">Reserves</a></li><li><a class="tocitem" href="../transmission/">Transmission</a></li><li><a class="tocitem" href="../ucommit/">Unit Commitment</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Resources</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../curtailable_variable_renewable/">Curtailable Variable Renewable</a></li><li><a class="tocitem" href="../flexible_demand/">Flexible Demand</a></li><li><a class="tocitem" href="../hydro_res/">Hydro</a></li><li><a class="tocitem" href="../must_run/">Must Run</a></li><li><input class="collapse-toggle" id="menuitem-3-2-5" type="checkbox"/><label class="tocitem" for="menuitem-3-2-5"><span class="docs-label">Storage</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../storage/">Storage</a></li><li><a class="tocitem" href="../investment_charge/">Investment Charge</a></li><li><a class="tocitem" href="../investment_energy/">Investment Energy</a></li><li><a class="tocitem" href="../long_duration_storage/">Long Duration Storage</a></li><li><a class="tocitem" href="../storage_all/">Storage All</a></li><li><a class="tocitem" href="../storage_asymmetric/">Storage Asymmetric</a></li><li><a class="tocitem" href="../storage_symmetric/">Storage Symmetric</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2-6" type="checkbox"/><label class="tocitem" for="menuitem-3-2-6"><span class="docs-label">Thermal</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../thermal/">Thermal</a></li><li><a class="tocitem" href="../thermal_commit/">Thermal Commit</a></li><li><a class="tocitem" href="../thermal_no_commit/">Thermal No Commit</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Policies</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Capacity Reserve Margin</a></li><li><a class="tocitem" href="../co2_cap/">CO2 Capacity</a></li><li><a class="tocitem" href="../energy_share_requirement/">Energy Share Requirement</a></li><li><a class="tocitem" href="../minimum_capacity_requirement/">Minimum Capacity Requirement</a></li></ul></li></ul></li><li><a class="tocitem" href="../methods/">Methods</a></li><li><a class="tocitem" href="../additional_features/">Additional Features</a></li><li><a class="tocitem" href="../data_documentation/">Model Inputs/Outputs Documentation</a></li><li><a class="tocitem" href="../load_inputs/">GenX Inputs</a></li><li><a class="tocitem" href="../write_outputs/">GenX Outputs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Model Function Reference</a></li><li><a class="is-disabled">Policies</a></li><li class="is-active"><a href>Capacity Reserve Margin</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Capacity Reserve Margin</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/GenXProject/GenX/blob/master/docs/src/cap_reserve_margin.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Capacity-Reserve-Margin-1"><a class="docs-heading-anchor" href="#Capacity-Reserve-Margin-1">Capacity Reserve Margin</a><a class="docs-heading-anchor-permalink" href="#Capacity-Reserve-Margin-1" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="GenX.cap_reserve_margin-Tuple{JuMP.Model,Dict,Dict}" href="#GenX.cap_reserve_margin-Tuple{JuMP.Model,Dict,Dict}"><code>GenX.cap_reserve_margin</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">cap_reserve_margin(EP::Model, inputs::Dict, setup::Dict)</code></pre><p>Instead of modeling capacity reserve margin requirement (a.k.a. capacity market or resource adequacy requirement) using an annual constraint, we model each requirement with hourly constraint by simulating the activation of the capacity obligation (Eq. \ref{eq:CRM}). We define capacity reserve margin constraint for subsets of zones,<span>$z  \in \mathcal{Z}^{CRM}_{p}$</span>, and each subset stands for a locational deliverability area (LDA) or a reserve sharing group.  For thermal resources, the available capacity is the total capacity in the LDA derated by the outage rate, <span>$\epsilon_{y,z,p}^{CRM}$</span>. For storage (<span>$y \in \mathcal{O}$</span>), variable renewable energy (<span>$y \in \mathcal{VRE}$</span>), and  flexibile demand resources (<span>$y \in \mathcal{DF}$</span>), the available capacity is the net injection into the transmission network in time step <span>$t$</span> derated by the derating factor, also stored in the parameter, <span>$\epsilon_{y,z,p}^{CRM}$</span>. If the imported capacity is eligible to provide capacity to the CRM constraint, the inbound powerflow on all lines <span>$\mathcal{L}_{p}^{in}$</span> in time step <span>$t$</span> will be derated to form the available capacity from outside of the LDA. The reverse is true as well: the outbound derated powerflow on all lines <span>$\mathcal{L}_{p}^{out}$</span> in time step <span>$t$</span> is taken out from the total available capacity. The derating factor should be equal to the expected availability of the resource during periods when the capacity reserve constraint is binding (e.g. accounting for forced outages during supply constrained periods) and is similar to derating factors used in the capacity markets. On top of the flexible demand resources, load curtailment can also provide capacity (i.e., demand response or load management). We allow all segments of voluntary load curtailment, <span>$s \geq 2 \in S$</span>, to contribute to capacity requirements. The first segment <span>$s = 1 \in S$</span> corresponds to involuntary demand curtailment or emergency load shedding at the price cap or value of lost load, and thus does not contribute to reserve requirements.  Note that the time step-weighted sum of the shadow prices of this constraint corresponds to the capacity market payments reported by ISOs with mandate capacity market mechanism.</p><div>\[\begin{aligned}
   &amp; \sum_{z  \in \mathcal{Z}^{CRM}_{p}} \Big( \sum_{y \in \mathcal{H}} \epsilon_{y,z,p}^{CRM} \times \Delta^{\text{total}}_{y,z} + \sum_{y \in \mathcal{VRE}} \epsilon_{y,z,p}^{CRM} \times \Theta_{y,z,t} \\
   + &amp; \sum_{y \in \mathcal{O}} \epsilon_{y,z,p}^{CRM} \times \left(\Theta_{y,z,t} - \Pi_{y,z,t} \right) + \sum_{y \in \mathcal{DF}} \epsilon_{y,z,p}^{CRM} \times \left(\Pi_{y,z,t} - \Theta_{y,z,t} \right) \\
   + &amp; \sum_{l \in \mathcal{L}_{p}^{in}} \epsilon_{y,z,p}^{CRM} \times \Phi_{l,t} -  \sum_{l \in \mathcal{L}_{p}^{out}} \epsilon_{y,z,p}^{CRM} \times \Phi_{l,t}
   +  \sum_{s \geq 2} \Lambda_{s,t,z}  \Big) \\
   &amp; \geq \sum_{z  \in \mathcal{Z}^{CRM}_{p}} \left( \left(1 + RM_{z,p}^{CRM} \right) \times D_{z,t} \right)  \hspace{1 cm}  \forall t \in \mathcal{T}, \forall p\in \mathcal{P}^{CRM}
\end{aligned}\]</div><p>Note that multiple capacity reserve margin requirements can be specified covering different individual zones or aggregations of zones, where the total number of constraints is specified by the GenX settings parameter &#39;&#39;&#39;CapacityReserveMargin&#39;&#39;&#39; (where this parameter should be an integer value &gt; 0).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/c2c7ccc0cd6c8dcc94611de06ab9ac43c179c7ce/src/model/policies/cap_reserve_margin.jl#L17-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GenX.load_cap_reserve_margin-Tuple{Dict,AbstractString,AbstractString,Dict}" href="#GenX.load_cap_reserve_margin-Tuple{Dict,AbstractString,AbstractString,Dict}"><code>GenX.load_cap_reserve_margin</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">load_cap_reserve_margin(setup::Dict, path::AbstractString, sep::AbstractString, inputs_crm::Dict, network_var::DataFrame)</code></pre><p>Function for reading input parameters related to planning reserve margin constraints</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/GenXProject/GenX/blob/c2c7ccc0cd6c8dcc94611de06ab9ac43c179c7ce/src/load_inputs/load_cap_reserve_margin.jl#L17-L21">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../thermal_no_commit/">« Thermal No Commit</a><a class="docs-footer-nextpage" href="../co2_cap/">CO2 Capacity »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 7 June 2021 14:25">Monday 7 June 2021</span>. Using Julia version 1.5.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
